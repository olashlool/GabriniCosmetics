var SmartCarousel={carouseldetailsurl:"",containerselector:"",loaderselector:"",loadwait:!0,localized_data:!1,init:function(n,t,i,r){this.carouseldetailsurl=n;this.containerselector=t;this.loaderselector=i;this.localized_data=r;this.loadwait=!0;SmartCarousel.check_carousels();$(window).scroll(function(){SmartCarousel.loadwait||SmartCarousel.check_carousels()})},check_carousels:function(){$(SmartCarousel.containerselector+'[data-loaded!="true"]').each(function(){var n=$(this),t;SmartCarousel.chek_element_on_screen(n)&&(n.data("loading")||(n.attr("data-loading",!0),t=n.data("carouselid"),SmartCarousel.load_carousel_details(t)))});SmartCarousel.loadwait=!1},chek_element_on_screen:function(n){var t=$(window).scrollTop(),r=t+$(window).height(),i=n.offset().top,u=i+n.height();return u<=r&&u>=t||i<=r&&i>=t},load_carousel_details:function(n){$.ajax({cache:!1,type:"POST",data:{carouselId:n},url:SmartCarousel.carouseldetailsurl,success:function(t){var i=$(SmartCarousel.containerselector+'[data-carouselid="'+n+'"]');t.result?i.html(t.html):i.html(SmartCarousel.localized_data.SmartCarouselFailure);i.attr("data-loaded",!0);i.removeClass("carousel-container");i.removeAttr("data-loading")},error:SmartCarousel.ajaxFailure})},ajaxFailure:function(){$(SmartCarousel.containerselector).html(SmartCarousel.localized_data.SmartCarouselFailure)}};
