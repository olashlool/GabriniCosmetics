var NopAdvanceCart={loadWaiting:!1,selectquantityfromproductbox:!1,productboxselector:"",topcartselector:"",flyoutcartselector:"",addtocartcatalogurl:"",addtocartdetailsurl:"",localized_data:!1,init:function(n,t,i,r,u,f,e){this.loadwaiting=!1;this.selectquantityfromproductbox=n;this.productboxselector=t;this.topcartselector=i;this.flyoutcartselector=r;this.addtocartcatalogurl=u;this.addtocartdetailsurl=f;this.localized_data=e},setLoadWaiting:function(n){displayAjaxLoading(n);this.loadWaiting=n},addproducttocart_catalog:function(n,t,i){var u,f,r;this.loadWaiting===!1&&(this.setLoadWaiting(!0),u=1,this.selectquantityfromproductbox&&(f=$(i).closest(this.productboxselector).find(':input[name="EnteredQuantity"]'),u=f.val()),r={},r.productid=n,r.buynow=t,r.quantity=u,addAntiForgeryToken(r),$.ajax({cache:!1,url:this.addtocartcatalogurl,type:"POST",data:r,success:this.success_process,complete:this.resetLoadWaiting,error:this.ajaxFailure}))},addproducttocart_details:function(n,t,i){if(this.loadWaiting===!1){this.setLoadWaiting(!0);var r=$(t).serialize();r+="&buynow="+i;$.ajax({cache:!1,url:this.addtocartdetailsurl,data:r,type:"POST",success:this.success_process,complete:this.resetLoadWaiting,error:this.ajaxFailure})}},getflyoutcart:function(n){this.loadWaiting===!1&&(this.setLoadWaiting(!0),$.ajax({cache:!1,url:n,type:"GET",success:this.success_process,complete:this.resetLoadWaiting,error:this.ajaxFailure}))},success_process:function(n){return(n.updatetopcartsectionhtml&&$(NopAdvanceCart.topcartselector).html(n.updatetopcartsectionhtml),n.updateflyoutcartsectionhtml&&$(NopAdvanceCart.flyoutcartselector).replaceWith(n.updateflyoutcartsectionhtml),n.popupnotificationhtml)?($("body").append(n.popupnotificationhtml),!1):n.message?(n.success===!0?AjaxCart.usepopupnotifications===!0?displayPopupNotification(n.message,"success",!0):displayBarNotification(n.message,"success",3500):AjaxCart.usepopupnotifications===!0?displayPopupNotification(n.message,"error",!0):displayBarNotification(n.message,"error",0),!1):n.openquickview?(QuickView.load_product_details(n.productid),!0):n.redirect?(location.href=n.redirect,!0):!1},resetLoadWaiting:function(){NopAdvanceCart.setLoadWaiting(!1)},ajaxFailure:function(){alert(NopAdvanceCart.localized_data.AdvanceCartFailure)}};
