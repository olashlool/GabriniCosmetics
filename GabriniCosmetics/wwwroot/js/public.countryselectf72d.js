+function(n){"use strict";function t(){var t=n(this),u=t.val(),i=n(t.data("stateprovince")),r;i.length!=0&&(r=n(t.data("loading")),r.show(),n.ajax({cache:!1,type:"GET",url:t.data("url"),data:{countryId:u,addSelectStateItem:"true"},success:function(t){i.html("");n.each(t,function(t,r){i.append(n("<option><\/option>").val(r.id).html(r.name))})},error:function(){alert("Failed to retrieve states.")},complete:function(){var t=typeof Billing!="undefined"?Billing.selectedStateId:typeof CheckoutBilling!="undefined"?CheckoutBilling.selectedStateId:0;n("#"+i[0].id+" option[value="+t+"]").prop("selected",!0);r.hide()}}))}if("undefined"==typeof jQuery)throw new Error("jQuery JS required");n(document).has('[data-trigger="country-select"]')&&n('select[data-trigger="country-select"]').change(t);n.fn.countrySelect=function(){this.each(function(){n(this).change(t)})}}(jQuery);
